<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Merhaba Yeldanur</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --txt:#f6f7ff;
      --muted:rgba(246,247,255,.74);
      --glass:rgba(10,12,20,.55);
      --stroke:rgba(255,255,255,.14);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--txt);
      overflow:hidden;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(1200px 700px at 20% 10%, #141a3a 0%, transparent 55%),
                  radial-gradient(1000px 700px at 80% 80%, #0b2a2a 0%, transparent 55%),
                  linear-gradient(180deg, #02030a 0%, #060716 55%, #02020a 100%);
    }

    canvas#sky{
      position:fixed; inset:0;
      width:100%; height:100%;
      display:block;
    }

    .vignette{
      position:fixed; inset:-40px;
      background:
        radial-gradient(circle at center, transparent 40%, rgba(0,0,0,.78) 100%),
        radial-gradient(800px 500px at 70% 20%, rgba(255,255,255,.05), transparent 65%);
      pointer-events:none;
    }

    /* AY */
    .moon{
      position:fixed;
      right: 7vw;
      top: 8vh;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 35% 30%, rgba(255,255,255,.95) 0%, rgba(245,247,255,.92) 35%, rgba(210,220,255,.85) 60%, rgba(160,175,220,.55) 100%);
      box-shadow:
        0 0 30px rgba(220,230,255,.35),
        0 0 70px rgba(180,205,255,.18);
      filter: saturate(0.9);
      pointer-events:none;
      z-index:2;
      opacity:.95;
      overflow:hidden;
    }
    /* krater hissi */
    .moon::before{
      content:"";
      position:absolute; inset:-10px;
      background:
        radial-gradient(circle at 35% 40%, rgba(120,140,190,.18) 0 10px, transparent 11px),
        radial-gradient(circle at 65% 55%, rgba(120,140,190,.14) 0 14px, transparent 15px),
        radial-gradient(circle at 55% 30%, rgba(120,140,190,.10) 0 8px, transparent 9px),
        radial-gradient(circle at 30% 70%, rgba(120,140,190,.12) 0 12px, transparent 13px);
      mix-blend-mode:multiply;
      opacity:.55;
      transform: rotate(10deg);
    }
    /* ayƒ±n g√∂lgeli tarafƒ± */
    .moon::after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(circle at 25% 35%, transparent 0 55%, rgba(0,0,0,.18) 75%, rgba(0,0,0,.35) 100%);
      opacity:.55;
    }

    @media (max-width:420px){
      .moon{ width:90px; height:90px; right:5vw; top:7vh; }
    }

    /* Kayan yƒ±ldƒ±zlar */
    .shooting-layer{
      position:fixed; inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:1;
    }
    .shooting-star{
      position:absolute;
      width:260px;
      height:2px;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.95), rgba(255,255,255,0));
      filter: drop-shadow(0 0 10px rgba(255,255,255,.55));
      opacity:0;
      transform: rotate(-20deg);
      animation: shoot 1.35s ease-in-out forwards;
    }
    @keyframes shoot{
      0%   { opacity:0; transform: translate3d(0,0,0) rotate(-20deg); }
      10%  { opacity:1; }
      100% { opacity:0; transform: translate3d(560px, 280px, 0) rotate(-20deg); }
    }

    /* Kart */
    .wrap{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
      padding:24px;
      z-index:3;
    }
    .card{
      width:min(720px, 92vw);
      border:1px solid var(--stroke);
      background: var(--glass);
      backdrop-filter: blur(16px);
      border-radius:26px;
      padding:26px 22px 18px;
      box-shadow: 0 24px 80px rgba(0,0,0,.6);
      text-align:center;
      cursor:pointer;
      user-select:none;
    }

    .title{
      font-family: "Playfair Display", serif;
      font-size: 38px;
      letter-spacing: .2px;
      margin: 6px 0 10px;
      text-shadow: 0 10px 40px rgba(0,0,0,.6);
      min-height:46px;
    }

    .line{
      font-size: 20px;
      line-height: 1.55;
      margin: 10px 0 14px;
      min-height: 84px;
      white-space: pre-line;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .hint{
      font-size: 13px;
      color: var(--muted);
      margin-top: 6px;
    }

    .row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:16px;
    }

    .btn{
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.08);
      color: var(--txt);
      padding: 12px 18px;
      border-radius: 16px;
      cursor:pointer;
      font-size: 14px;
      transition: transform .18s ease, background .18s ease, opacity .18s ease;
    }
    .btn.primary{ background: rgba(255,255,255,.12); }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.12); }
    .btn:active{ transform: translateY(0px) scale(.99); }

    #choiceRow{ display:none; }

    @media (max-width: 420px){
      .title{ font-size: 30px; }
      .line{ font-size: 18px; min-height: 92px; }
    }
  </style>
</head>

<body>
  <canvas id="sky"></canvas>
  <div class="shooting-layer" id="shootingLayer"></div>
  <div class="moon" aria-hidden="true"></div>
  <div class="vignette"></div>

  <main class="wrap">
    <section class="card" id="tapArea">
      <div class="title" id="title">Merhaba Yeldanur</div>
      <div class="line" id="line"> </div>
      <div class="hint" id="hint">Devam etmek i√ßin tƒ±kla ‚ú®</div>

      <div class="row" id="choiceRow">
        <button class="btn primary" id="yesBtn">Evet</button>
        <button class="btn" id="noBtn">Hayƒ±r</button>
      </div>
    </section>
  </main>

  <!-- Repoya music.mp3 y√ºkle -->
  <audio id="audio" loop>
    <source src="music.mp3" type="audio/mpeg" />
  </audio>

  <script>
    /* ---------- CANVAS YILDIZLAR ---------- */
    const canvas = document.getElementById("sky");
    const ctx = canvas.getContext("2d");
    let W, H, DPR;
    let stars = [];

    function rand(min,max){ return Math.random()*(max-min)+min; }

    function resize(){
      DPR = Math.min(window.devicePixelRatio || 1, 2);
      W = canvas.width = Math.floor(window.innerWidth * DPR);
      H = canvas.height = Math.floor(window.innerHeight * DPR);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      makeStars();
    }

    function makeStars(){
      const count = Math.floor((window.innerWidth * window.innerHeight) / 8500);
      stars = Array.from({length: count}, () => ({
        x: Math.random()*W,
        y: Math.random()*H,
        r: rand(0.6, 1.9) * DPR,
        a: rand(0.18, 0.95),
        tw: rand(0.004, 0.02),
        ph: rand(0, Math.PI*2),
      }));
    }

    function draw(){
      ctx.clearRect(0,0,W,H);

      // nebula
      const g1 = ctx.createRadialGradient(W*0.22, H*0.18, 0, W*0.22, H*0.18, W*0.65);
      g1.addColorStop(0, "rgba(120,140,255,0.10)");
      g1.addColorStop(1, "rgba(0,0,0,0)");
      ctx.fillStyle = g1; ctx.fillRect(0,0,W,H);

      const g2 = ctx.createRadialGradient(W*0.78, H*0.72, 0, W*0.78, H*0.72, W*0.60);
      g2.addColorStop(0, "rgba(90,255,220,0.07)");
      g2.addColorStop(1, "rgba(0,0,0,0)");
      ctx.fillStyle = g2; ctx.fillRect(0,0,W,H);

      const t = performance.now();
      for(const s of stars){
        const tw = (Math.sin(t*s.tw + s.ph) + 1) / 2;
        const alpha = Math.min(1, s.a * (0.55 + tw*0.65));

        ctx.beginPath();
        ctx.fillStyle = `rgba(255,255,255,${alpha})`;
        ctx.shadowBlur = 10 * DPR;
        ctx.shadowColor = `rgba(255,255,255,${alpha})`;
        ctx.arc(s.x, s.y, s.r*(0.75 + tw*0.5), 0, Math.PI*2);
        ctx.fill();
      }

      requestAnimationFrame(draw);
    }

    window.addEventListener("resize", resize);
    resize();
    draw();

    /* ---------- KAYAN YILDIZ ---------- */
    const shootingLayer = document.getElementById("shootingLayer");

    function spawnShootingStar(){
      const star = document.createElement("div");
      star.className = "shooting-star";
      const startX = Math.random() * (window.innerWidth * 0.55);
      const startY = Math.random() * (window.innerHeight * 0.35);
      star.style.left = startX + "px";
      star.style.top = startY + "px";
      shootingLayer.appendChild(star);
      star.addEventListener("animationend", () => star.remove());
    }

    function scheduleShooting(){
      const delay = Math.floor(rand(6500, 14000));
      setTimeout(() => {
        spawnShootingStar();
        scheduleShooting();
      }, delay);
    }
    scheduleShooting();

    /* ---------- METƒ∞N + BUTON MANTIƒûI ---------- */
    const titleEl = document.getElementById("title");
    const lineEl  = document.getElementById("line");
    const hintEl  = document.getElementById("hint");
    const tapArea = document.getElementById("tapArea");
    const choiceRow = document.getElementById("choiceRow");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");

    // M√ºzik: ilk tƒ±kta ba≈ülasƒ±n
    const audio = document.getElementById("audio");
    let musicStarted = false;

    const scenes = [
      { title: "Merhaba Yeldanur", line: "", hint: "Devam etmek i√ßin tƒ±kla ‚ú®", choice: false },
      { title: "", line: "Bu aralar keyifsiz olduƒüunu biliyorum‚Ä¶\nVe yanƒ±nda olmak istiyorum.", hint: "Devam etmek i√ßin tƒ±kla", choice: false },
      { title: "", line: "Bug√ºn ak≈üam i≈ülerin bittiƒüinde‚Ä¶\n5 dakika bile olsa seni g√∂rmek ve yanƒ±nda olmak istiyorum.", hint: "Se√ßimini yap üòä", choice: true },
    ];

    let sceneIndex = 0;

    function setScene(idx){
      const s = scenes[idx];
      titleEl.textContent = s.title || " ";
      lineEl.textContent  = s.line || " ";
      hintEl.textContent  = s.hint || " ";
      choiceRow.style.display = s.choice ? "flex" : "none";
    }

    setScene(sceneIndex);

    async function startMusicOnce(){
      if(musicStarted) return;
      try{
        await audio.play();
        musicStarted = true;
      }catch(e){
        // Bazƒ± tarayƒ±cƒ±larda ilk tƒ±k bile yetmeyebilir; ikinci tƒ±kta dener.
      }
    }

    tapArea.addEventListener("click", async (e) => {
      // butona tƒ±klayƒ±nca kart click'i tetiklenmesin
      if(e.target.tagName.toLowerCase() === "button") return;

      // ilk tƒ±kta m√ºzik ba≈ülat
      await startMusicOnce();

      if(sceneIndex < scenes.length - 1){
        sceneIndex++;
        setScene(sceneIndex);
      }
    });

    // EVET/HAYIR √∂l√ßek
    let yesScale = 1;
    let noScale  = 1;

    function applyScales(){
      yesBtn.style.transform = `scale(${yesScale})`;
      noBtn.style.transform  = `scale(${noScale})`;
      if(noScale <= 0.25){
        noBtn.style.opacity = "0";
        noBtn.style.pointerEvents = "none";
      }else{
        noBtn.style.opacity = "1";
        noBtn.style.pointerEvents = "auto";
      }
    }

    noBtn.addEventListener("click", async (e) => {
      e.stopPropagation();
      await startMusicOnce();
      noScale  = Math.max(0.2, noScale * 0.78);
      yesScale = Math.min(1.95, yesScale * 1.12);
      applyScales();
    });

    yesBtn.addEventListener("click", async (e) => {
      e.stopPropagation();
      await startMusicOnce();
      titleEl.textContent = "ü§ç";
      lineEl.textContent = "Tamam.\nƒ∞≈üin bittiƒüinde haber ver‚Ä¶\nBen geliyorum.";
      hintEl.textContent = "Bu sayfa burada kalsƒ±n üôÇ";
      choiceRow.style.display = "none";
    });

    applyScales();
  </script>
</body>
</html>
